(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/logo.c2982aa3.png"},110:function(e,t,a){e.exports=a.p+"static/media/world.4ce37a35.png"},120:function(e,t,a){e.exports=a(134)},125:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(125),a(6)),i=a(35),s=a(17),u=a(8),m=a.n(u),p=a(14),d=a(43),h=a(88),f=a.n(h),b=a(92),y=a.n(b),g=a(163),v=a(19),E=a(166),j=a(168),O=a(169),k=a(55),x=a(188),w=a(170),S=a(187),C=a(171),L=a(172),D=a(173),T=a(174),A=a(95),I=a.n(A),_=a(68),M=a.n(_),N=a(96),B=a.n(N),z=a(97),P=a.n(z),W=a(98),R=a.n(W),G=a(99),F=a.n(G),U=a(100),J=a.n(U),V=a(94),$=a.n(V),H=a(91),Y=a.n(H),Z=a(89),q=a.n(Z),K=a(90),Q=a.n(K),X=a(93),ee=a.n(X),te=a(185),ae=a(21),ne=a.n(ae),re=a(12),ce=Object(g.a)((function(e){var t;return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(v.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(v.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},Object(d.a)(t,e.breakpoints.up("sm"),{width:"17ch",color:"rgba(255, 255, 255, 0.5)"}),Object(d.a)(t,"&:focus",{color:"white"}),t)}}));function oe(e){var t=e.setSearchMode,a=Object(re.c)((function(e){return e.user})),c=ce(),o=Object(s.f)(),i=Object(n.useState)(!1),u=Object(l.a)(i,2),d=u[0],h=u[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),v=g[0],A=g[1],_=Object(n.useState)(!1),N=Object(l.a)(_,2),z=N[0],W=N[1],G=Object(n.useState)(null),U=Object(l.a)(G,2),V=U[0],H=U[1],Z=Object(n.useState)(""),K=Object(l.a)(Z,2),X=K[0],ae=K[1],oe=Object(n.useState)(""),le=Object(l.a)(oe,2),ie=le[0],se=le[1],ue=Object(re.b)(),me=function(){var e=Object(p.a)(m.a.mark((function e(){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(V||X||ie)){e.next=22;break}if(!X||!ie){e.next=6;break}if(!(ie<X)){e.next=6;break}return h(!0),A("Land date limit is earlier than takeoff date limit. Please change and try again."),e.abrupt("return");case 6:return e.prev=6,t(!0),o.push("/vacations"),e.next=11,fetch("http://localhost:1000/vacations/search",{method:"PUT",headers:{"content-type":"application/json",Authorization:localStorage.token},body:JSON.stringify({searchContent:V,start_limit:X,end_limit:ie})});case 11:return a=e.sent,e.next=14,a.json();case 14:"Token expected"===(n=e.sent).msg||"Token invalid"===n.msg?(ue({type:"LOGOUT"}),o.push("/login")):(h(!1),ue({type:"LOAD",payload:n})),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(6);case 20:e.next=24;break;case 22:h(!0),A("Please fill search fields and try again.");case 24:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(E.a,{position:"fixed",style:{marginBottom:"5vh"}},r.a.createElement(j.a,null,r.a.createElement(O.a,{onClick:function(){return W(!0)},edge:"start",className:c.menuButton,color:"inherit"},r.a.createElement(f.a,null)),r.a.createElement(k.a,{className:c.title,variant:"h4",noWrap:!0},"Fly Away"),a.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.search,title:"Insert starting date limit"},r.a.createElement(O.a,{color:"inherit",size:"small",className:c.searchIcon},r.a.createElement(q.a,null)),r.a.createElement(x.a,{type:"date",onChange:function(e){return ae(ne()(e.target.value).format("yyyy-MM-DD"))},classes:{root:c.inputRoot,input:c.inputInput}})),r.a.createElement("div",{className:c.search,title:"Insert ending date limit"},r.a.createElement(O.a,{color:"inherit",size:"small",className:c.searchIcon},r.a.createElement(Q.a,null)),r.a.createElement(x.a,{type:"date",onChange:function(e){return se(ne()(e.target.value).format("yyyy-MM-DD"))},classes:{root:c.inputRoot,input:c.inputInput}})),r.a.createElement("div",{className:c.search},r.a.createElement("div",{className:c.searchIcon},r.a.createElement(Y.a,null)),r.a.createElement(x.a,{placeholder:"Search",title:"Insert destination or part of description",onChange:function(e){return H(e.target.value)},classes:{root:c.inputRoot,input:c.inputInput}})),r.a.createElement(O.a,{color:"inherit",title:"Search",onClick:me},r.a.createElement(y.a,null)),r.a.createElement(O.a,{color:"inherit",title:"Clear search - Back to all vacations",style:{marginRight:"2vw"},onClick:function(){h(!1),t(!1),o.push("/")}},r.a.createElement(ee.a,null)),r.a.createElement(k.a,{variant:"h6",noWrap:!0},"Hello ",a.first_name),r.a.createElement(O.a,{color:"inherit",title:"Go to my account",onClick:function(){o.push("/profile")}},r.a.createElement($.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{color:"inherit",href:"/login"},"Login"),r.a.createElement(w.a,{color:"inherit",href:"/register"},"Register"))),d?r.a.createElement(te.a,{severity:"error"},v):null),r.a.createElement(S.a,{open:z,anchor:"left",onClose:function(){return W(!1)}},r.a.createElement(C.a,null,r.a.createElement(L.a,{button:!0,onClick:function(){t(!1),o.push("/"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(I.a,null)),r.a.createElement(T.a,{primary:"Home"})),a.isLogin?r.a.createElement(r.a.Fragment,null,"user"===a.role?r.a.createElement(L.a,{button:!0,onClick:function(){o.push("/wishlist"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(M.a,null)),r.a.createElement(T.a,{primary:"Wish List"})):null,"admin"===a.role?r.a.createElement(L.a,{button:!0,onClick:function(){o.push("/reports"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(B.a,null)),r.a.createElement(T.a,{primary:"Reports"})):null,r.a.createElement(L.a,{button:!0,onClick:function(){o.push("/profile"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(P.a,null)),r.a.createElement(T.a,{primary:"Profile"})),r.a.createElement(L.a,{button:!0,onClick:function(){try{ue({type:"LOGOUT"}),o.push("/"),W(!1)}catch(e){}}},r.a.createElement(D.a,null,r.a.createElement(R.a,null)),r.a.createElement(T.a,{primary:"Logout"}))):null,a.isLogin?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{button:!0,onClick:function(){o.push("/register"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(F.a,null)),r.a.createElement(T.a,{primary:"Register"})),r.a.createElement(L.a,{button:!0,onClick:function(){o.push("/login"),W(!1)}},r.a.createElement(D.a,null,r.a.createElement(J.a,null)),r.a.createElement(T.a,{primary:"Login"}))))))}var le=a(115),ie=a(175),se=a(184),ue=a(176),me=a(101);function pe(e){var t=e.history,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),d=u[0],h=u[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),y=b[0],g=b[1],v=Object(re.b)(),E=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r,c,l,i,s,u,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:1000/users/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:o,password:d})});case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).error?g(r.msg):(localStorage.token=r.access_token,c=Object(me.a)(r.access_token),l=c.id,i=c.first_name,s=c.last_name,u=c.username,p=c.role,v({type:"LOGIN",payload:{id:l,first_name:i,last_name:s,username:u,role:p}}),t.push("/")),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(le.a,{style:{width:"40%",margin:"15vh auto",padding:"5vh"}},r.a.createElement(ie.a,{container:!0,justify:"space-evenly",style:{marginBottom:"5vh"}},r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{onChange:function(e){return i(e.target.value)},label:"Username",type:"text"})),r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{onChange:function(e){return h(e.target.value)},label:"Password",type:"password"}))),y?r.a.createElement(te.a,{open:!0,severity:"error"},y):null,r.a.createElement(ue.a,null),r.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(w.a,{color:"primary",onClick:E},"Login"),r.a.createElement(k.a,null,"Don't have an account? ",r.a.createElement(w.a,{color:"default",href:"/register"},"Register"))))}function de(e){var t=e.history,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),d=u[0],h=u[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),y=b[0],g=b[1],v=Object(n.useState)(""),E=Object(l.a)(v,2),j=E[0],O=E[1],x=Object(n.useState)(""),S=Object(l.a)(x,2),C=S[0],L=S[1],D=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,fetch("http://localhost:1000/users/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({first_name:o,last_name:d,username:y,password:j})});case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).error?L(r.msg):t.push("/login"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),L(e.t0),console.log(C);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{style:{width:"40%",margin:"15vh auto",padding:"5vh"}},r.a.createElement(ie.a,{container:!0,justify:"space-evenly",style:{marginBottom:"5vh"}},r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{label:"First Name",type:"text",onChange:function(e){return i(e.target.value)}})),r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{label:"Last Name",type:"text",onChange:function(e){return h(e.target.value)}})),r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{onChange:function(e){return g(e.target.value)},label:"Username",type:"text"})),r.a.createElement(ie.a,{container:!0,justify:"center",xs:6},r.a.createElement(se.a,{onChange:function(e){return O(e.target.value)},label:"Password",type:"password"}))),C?r.a.createElement(te.a,{open:!0,severity:"error"},C):null,r.a.createElement(ue.a,null),r.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(w.a,{color:"primary",onClick:D},"Register"),r.a.createElement(k.a,null,"Already signed up? ",r.a.createElement(w.a,{color:"default",href:"/login"},"Login")))))}var he=a(29),fe=a(102),be=a.n(fe);function ye(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/vacations");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.filter((function(e){return e.followers>0})));case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){i()}),[a]);var o=function(){var e=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],t=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];return a.map((function(a,n){var r=n%e.length;return Object(he.a)(Object(he.a)({},a),{},{backgroundColor:e[r],borderColor:t[r]})}))},i=function(){var e=document.getElementById("likesChart"),t=o();new be.a(e,{type:"bar",data:{labels:t.map((function(e){return e.destination})),datasets:[{label:"# of followers",data:t.map((function(e){return e.followers})),backgroundColor:t.map((function(e){return e.backgroundColor})),borderColor:t.map((function(e){return e.borderColor})),borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e){if(e%1===0)return e}},scaleLabel:{display:!0,labelString:"Number of Followers",fontSize:20}}],xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Destination",fontSize:20}}]},legend:{display:!1},tooltips:{callbacks:{label:function(e){return e.yLabel}}}}})};return r.a.createElement(ie.a,{container:!0,justify:"center",style:{marginTop:"10vh"}},r.a.createElement(ie.a,{xs:12},r.a.createElement(le.a,null,r.a.createElement(k.a,{variant:"h2",style:{textAlign:"center",marginBottom:"5vh"}},"Followed Vacations Reports"))),r.a.createElement(ie.a,{item:!0,xs:8},r.a.createElement("canvas",{id:"likesChart"})))}var ge=a(75),ve=a(182),Ee=a(178),je=a(179),Oe=a(180),ke=a(181),xe=a(186),we=a(189),Se=a(106),Ce=a.n(Se),Le=a(104),De=a.n(Le),Te=a(105),Ae=a.n(Te),Ie=(a(83),a(177)),_e=a(103),Me=a.n(_e);function Ne(e){var t=e.modalOpen,a=e.setModalOpen,c=e.vacation,o=Object(re.b)(),i=Object(s.f)(),u=Object(n.useState)(!1),d=Object(l.a)(u,2),h=d[0],f=d[1],b=Object(n.useState)(""),y=Object(l.a)(b,2),g=y[0],v=y[1],E=Object(n.useState)(""),j=Object(l.a)(E,2),O=j[0],x=j[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),L=C[0],D=C[1],T=Object(n.useState)(""),A=Object(l.a)(T,2),I=A[0],_=A[1],M=Object(n.useState)(""),N=Object(l.a)(M,2),B=N[0],z=N[1],P=Object(n.useState)(""),W=Object(l.a)(P,2),R=W[0],G=W[1],F=Object(n.useState)(""),U=Object(l.a)(F,2),J=U[0],V=U[1];Object(n.useEffect)((function(){x(c.destination),D(c.image),_(c.start_date),z(c.end_date),G(c.description),V(c.price)}),[c]);var $=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(O&&L&&I&&B&&R&&J)){e.next=22;break}if(!(I<B)){e.next=18;break}return e.prev=3,e.next=6,fetch("http://localhost:1000/vacations/".concat(c.id),{method:"PUT",headers:{"content-type":"application/json",Authorization:localStorage.token},body:JSON.stringify({destination:O,image:L,start_date:I,end_date:B,description:R,price:J})});case 6:return n=e.sent,e.next=9,n.json();case 9:"Token expected"===(r=e.sent).msg||"Token invalid"===r.msg?(o({type:"LOGOUT"}),i.push("/login")):(a(!1),f(!1),o({type:"LOAD",payload:r})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:e.next=20;break;case 18:f(!0),v("Land date is earlier than takeoff date. Please change and try again.");case 20:e.next=23;break;case 22:f(!0);case 23:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){e.preventDefault(),a(!1)};return r.a.createElement(xe.a,{open:t,onClose:H},r.a.createElement("div",{style:{backgroundColor:"white",width:"30%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(k.a,{variant:"h4",style:{color:"white",backgroundColor:"#0f2566",padding:"1vw",textAlign:"center",marginBottom:"3vh"}},"Edit ",O," ",r.a.createElement(Me.a,{fontSize:"large",style:{color:"white"}})),r.a.createElement(ie.a,{container:!0,justify:"center"},r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-around",style:{marginBottom:"5vh"}},r.a.createElement(se.a,{value:O,onChange:function(e){return x(e.target.value)},label:"Destination",type:"text"}),r.a.createElement(se.a,{value:J,onChange:function(e){return V(e.target.value)},label:"Price (in USD)",InputProps:{startAdornment:r.a.createElement(Ie.a,{position:"start"},"$")},type:"number"})),r.a.createElement(ie.a,{container:!0,xs:12,sm:10,style:{marginBottom:"5vh"}},r.a.createElement(se.a,{fullWidth:!0,value:L,onChange:function(e){return D(e.target.value)},label:"Image",type:"text"})),r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-around",style:{marginBottom:"5vh"}},r.a.createElement(se.a,{label:"Takeoff Date",type:"date",defaultValue:ne()(I).format("yyyy-MM-DD"),InputLabelProps:{shrink:!0},onChange:function(e){return _(e.target.value)}}),r.a.createElement(se.a,{label:"Land Date",type:"date",defaultValue:ne()(B).format("yyyy-MM-DD"),InputLabelProps:{shrink:!0},onChange:function(e){return z(e.target.value)}})),r.a.createElement(ie.a,{container:!0,xs:9},r.a.createElement(se.a,{multiline:!0,fullWidth:!0,rows:5,variant:"outlined",value:R,style:{margin:"1vw"},onChange:function(e){return G(e.target.value)},label:"Description",type:"text"})),h?r.a.createElement(ie.a,{xs:12},r.a.createElement(te.a,{severity:"error"},g)):null,r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-evenly",style:{margin:"3vh"}},r.a.createElement(w.a,{onClick:$,variant:"contained",color:"primary"},"Submit"),r.a.createElement(w.a,{onClick:H,variant:"contained"},"Cancel")))))}var Be=Object(g.a)({root:{width:345},media:{height:140}});function ze(e){var t=e.vacation,a=Object(re.c)((function(e){return e.user})),c=Object(s.f)(),o=Be(),i=Object(re.b)(),u=Object(n.useState)(t.isLiked),d=Object(l.a)(u,2),h=d[0],f=d[1],b=Object(n.useState)(t.followers),y=Object(l.a)(b,2),g=y[0],v=y[1],E=t.id,j=t.image,x=t.destination,S=t.start_date,C=t.end_date,L=t.description,D=t.price,T=ne()(S).format("DD/MM/yyyy"),A=ne()(C).format("DD/MM/yyyy"),I=Object(n.useState)(!1),_=Object(l.a)(I,2),N=_[0],B=_[1],z=Object(n.useState)(!1),P=Object(l.a)(z,2),W=P[0],R=P[1],G=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/vacations/".concat(E),{method:"DELETE",headers:{Authorization:localStorage.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:"Token expected"===(a=e.sent).msg||"Token invalid"===a.msg?(i({type:"LOGOUT"}),c.push("/login")):i({type:"LOAD",payload:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:1000/likes",{method:"POST",headers:{"content-type":"application/json",Authorization:localStorage.token},body:JSON.stringify({userID:a.id,vacationID:E})});case 3:return t=e.sent,e.next=6,t.json();case 6:"Token expected"===(n=e.sent).msg||"Token invalid"===n.msg?(i({type:"LOGOUT"}),c.push("/login")):(f(!0),v(g+1)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:1000/likes",{method:"DELETE",headers:{"content-type":"application/json",Authorization:localStorage.token},body:JSON.stringify({userID:a.id,vacationID:E})});case 3:return t=e.sent,e.next=6,t.json();case 6:"Token expected"===(n=e.sent).msg||"Token invalid"===n.msg?(i({type:"LOGOUT"}),c.push("/login")):(f(!1),v(g-1)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee.a,{className:o.root,style:{position:"relative",marginBottom:"2vw"}},r.a.createElement(je.a,{className:o.media,image:j,title:x}),r.a.createElement(Oe.a,null,"admin"===a.role?r.a.createElement(ke.a,{style:{position:"absolute",right:"0.5vw",top:140}},r.a.createElement(O.a,{onClick:function(){return R(!0)}},r.a.createElement(De.a,null)),r.a.createElement(O.a,{onClick:function(){return B(!0)}},r.a.createElement(Ae.a,null))):null,r.a.createElement(k.a,{gutterBottom:!0,variant:"h4",component:"h2"},x),r.a.createElement(k.a,{gutterBottom:!0,variant:"body1",component:"p"},T," - ",A),r.a.createElement(k.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p"},L),r.a.createElement(k.a,{variant:"h5",component:"p"},D,"$"),r.a.createElement(xe.a,{open:N,onClose:function(){return B(!1)}},r.a.createElement("div",{style:{backgroundColor:"white",width:"35%",margin:"15% auto",padding:"3vh"}},r.a.createElement(k.a,{variant:"h5"},"Are you sure you want to delete the vacation in ",x,"?"),r.a.createElement(ie.a,{container:!0,justify:"center"},r.a.createElement(w.a,{size:"large",onClick:G},"Yes"),r.a.createElement(w.a,{size:"large",onClick:function(){return B(!1)}},"No")))),W?r.a.createElement(Ne,{setModalOpen:R,modalOpen:W,vacation:t}):null),r.a.createElement(ke.a,{style:{position:"absolute",right:"0.5vw",bottom:"0"}},"user"===a.role?h?r.a.createElement(O.a,{onClick:U},r.a.createElement(M.a,{style:{color:"red"}})):r.a.createElement(O.a,{onClick:F},r.a.createElement(Ce.a,null)):null,r.a.createElement(we.a,{style:{backgroundColor:"#0f2566"}},g)))}var Pe=a(108),We=a.n(Pe),Re=a(107),Ge=a.n(Re);function Fe(e){var t=e.modalOpen,a=e.setModalOpen,c=Object(re.b)(),o=Object(s.f)(),i=Object(n.useState)(!1),u=Object(l.a)(i,2),d=u[0],h=u[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),y=b[0],g=b[1],v=Object(n.useState)(""),E=Object(l.a)(v,2),j=E[0],O=E[1],x=Object(n.useState)(""),S=Object(l.a)(x,2),C=S[0],L=S[1],D=Object(n.useState)(ne()().format("yyyy-MM-DD")),T=Object(l.a)(D,2),A=T[0],I=T[1],_=Object(n.useState)(ne()().add(1,"days").format("yyyy-MM-DD")),M=Object(l.a)(_,2),N=M[0],B=M[1],z=Object(n.useState)(""),P=Object(l.a)(z,2),W=P[0],R=P[1],G=Object(n.useState)(""),F=Object(l.a)(G,2),U=F[0],J=F[1],V=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(j&&C&&A&&N&&W&&U)){e.next=21;break}if(!(A<N)){e.next=17;break}return e.prev=3,e.next=6,fetch("http://localhost:1000/vacations/add",{method:"POST",headers:{"content-type":"application/json",Authorization:localStorage.token},body:JSON.stringify({destination:j,image:C,start_date:A,end_date:N,description:W,price:U})});case 6:return n=e.sent,e.next=9,n.json();case 9:"Token expected"===(r=e.sent).msg||"Token invalid"===r.msg?(c({type:"LOGOUT"}),o.push("/login")):(h(!1),a(!1),c({type:"LOAD",payload:r})),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(3);case 15:e.next=19;break;case 17:h(!0),g("Land date is earlier than takeoff date. Please change and try again.");case 19:e.next=23;break;case 21:h(!0),g("Please fill all fields.");case 23:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){e.preventDefault(),a(!1)};return r.a.createElement(xe.a,{open:t,onClose:$},r.a.createElement("div",{style:{backgroundColor:"white",width:"30%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(k.a,{variant:"h4",style:{color:"white",backgroundColor:"#0f2566",padding:"1vw",textAlign:"center",marginBottom:"3vh"}},"Add a Vacation ",r.a.createElement(Ge.a,{fontSize:"large",style:{color:"white"}})),r.a.createElement(ie.a,{container:!0,justify:"center"},r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-around",style:{marginBottom:"5vh"}},r.a.createElement(se.a,{onChange:function(e){return O(e.target.value)},label:"Destination",type:"text"}),r.a.createElement(se.a,{onChange:function(e){return J(e.target.value)},label:"Price (in USD)",InputProps:{startAdornment:r.a.createElement(Ie.a,{position:"start"},"$")},type:"number"})),r.a.createElement(ie.a,{container:!0,xs:12,sm:10,style:{marginBottom:"5vh"}},r.a.createElement(se.a,{fullWidth:!0,onChange:function(e){return L(e.target.value)},label:"Image URL",type:"text"})),r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-around",style:{marginBottom:"5vh"}},r.a.createElement(se.a,{label:"Takeoff Date",type:"date",defaultValue:A,InputLabelProps:{shrink:!0},onChange:function(e){return I(e.target.value)}}),r.a.createElement(se.a,{label:"Land Date",type:"date",defaultValue:N,InputLabelProps:{shrink:!0},onChange:function(e){return B(e.target.value)}})),r.a.createElement(ie.a,{container:!0,xs:9},r.a.createElement(se.a,{fullWidth:!0,multiline:!0,rows:5,variant:"outlined",onChange:function(e){return R(e.target.value)},label:"Description",type:"text"})),r.a.createElement(ie.a,{item:!0}),d?r.a.createElement(ie.a,{xs:12},r.a.createElement(te.a,{severity:"error"},y)):null,r.a.createElement(ie.a,{container:!0,xs:12,justify:"space-evenly",style:{margin:"3vh"}},r.a.createElement(w.a,{onClick:V,variant:"contained",color:"primary"},"Submit"),r.a.createElement(w.a,{onClick:$,variant:"contained"},"Cancel")))))}function Ue(e){var t=e.isSearchMode,a=Object(re.c)((function(e){return e.user})),c=Object(re.c)((function(e){return e.vacations})),o=Object(n.useState)(!1),i=Object(l.a)(o,2),u=i[0],d=i[1],h=Object(n.useState)(!1),f=Object(l.a)(h,2),b=f[0],y=f[1],g=Object(re.b)(),v=Object(s.f)();return Object(n.useEffect)((function(){if(!t)if("user"===a.role){var e=[];Object(p.a)(m.a.mark((function t(){var r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:1000/likes/liked/".concat(a.id),{method:"GET",headers:{"content-type":"application/json",Authorization:localStorage.token}});case 2:return r=t.sent,t.next=5,r.json();case 5:"Token expected"===(c=t.sent).msg||"Token invalid"===c.msg?(g({type:"LOGOUT"}),v.push("/login")):(e=c.map((function(e){return Object(he.a)(Object(he.a)({},e),{},{isLiked:!0})})),n());case 7:case"end":return t.stop()}}),t)})))();var n=function(){var t=Object(p.a)(m.a.mark((function t(){var n,r,c,o,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:1000/likes/rest/".concat(a.id),{method:"GET",headers:{"content-type":"application/json",Authorization:localStorage.token}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,c=r.map((function(e){return Object(he.a)(Object(he.a)({},e),{},{isLiked:!1})})),o=c,l=[].concat(Object(ge.a)(e),Object(ge.a)(o)),g({type:"LOAD",payload:l}),y(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}else Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:1000/vacations");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,g({type:"LOAD",payload:a}),y(!0);case 8:case"end":return e.stop()}}),e)})))()}),[a,g,v,t]),r.a.createElement(r.a.Fragment,null,b?r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10vh",flexWrap:"wrap"}},c.length?c.map((function(e){return r.a.createElement(ze,{key:e.id,style:{margin:"10vw"},vacation:e})})):r.a.createElement(k.a,{variant:"h4"},"No vacations to show.."),"admin"===a.role?r.a.createElement(ve.a,{color:"secondary","aria-label":"add",onClick:function(){return d(!0)},title:"Add vacation",style:{width:"5vw",height:"5vw",position:"fixed",right:"3vw",bottom:"5vh"}},r.a.createElement(We.a,{fontSize:"large",style:{color:"white"}})):null,r.a.createElement(Fe,{modalOpen:u,setModalOpen:d})):null)}function Je(){var e=Object(s.f)(),t=Object(re.c)((function(e){return e.user})),a=t.first_name,n=t.last_name,c=t.username,o=t.role;return r.a.createElement(Ee.a,{style:{margin:"15vh auto",width:"30%"}},r.a.createElement(Oe.a,{style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("div",null,"user"===o?r.a.createElement(k.a,{variant:"h5",color:"textSecondary"},"My Account"):null,r.a.createElement(k.a,{variant:"h3"},c),r.a.createElement(k.a,{variant:"h4"},a," ",n),"admin"===o?r.a.createElement(k.a,{color:"textSecondary",variant:"h5"},"Website Admin"):null),r.a.createElement(we.a,{style:{backgroundColor:"#0f2566"}},a.slice(0,1),n.slice(0,1))),r.a.createElement(ue.a,null),r.a.createElement(ke.a,{style:{justifyContent:"flex-end"}},"user"===o?r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(){e.push("/wishlist")}},"Wish List"):null,"admin"===o?r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(){e.push("/reports")}},"Reports"):null))}var Ve=a(112),$e=a(183),He=a(109),Ye=a.n(He),Ze=a(110),qe=a.n(Ze),Ke=a(111),Qe=a.n(Ke);function Xe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{style:{marginTop:"10vh"}},r.a.createElement(ie.a,{container:!0,justify:"center"},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(k.a,{style:{textAlign:"center"},color:"textSecondary",variant:"h1"},"Welcome to ",r.a.createElement("span",{style:{color:"black"}},"Fly Away"),r.a.createElement("img",{src:Ye.a,alt:"Logo",width:"7%"}))),r.a.createElement(ie.a,{container:!0,xs:12,sm:11,alignItems:"center",justify:"center"},r.a.createElement(ie.a,{item:!0,xs:5},r.a.createElement("img",{src:qe.a,alt:"World Travel",width:"100%"})),r.a.createElement(ie.a,{item:!0,xs:7},r.a.createElement(k.a,{variant:"h4"},"What is Fly Away?"),r.a.createElement(k.a,{color:"textSecondary",variant:"h5"},"If you love traveling and visiting new places this is the perfect place for you. Fly Away gives you a chance to see some great vacations' deals before anyone else. You can also follow your favorite vacations and stay updated for changes."),r.a.createElement(k.a,{variant:"h4",style:{marginTop:"5vh"}},"Do you want to be part of our family?"),r.a.createElement(k.a,{color:"textSecondary",variant:"h5"},"By signing up you will be able to follow your favorite vacations and manage your own Wish List. Join us now! Every day new vacations are uploded."),r.a.createElement(k.a,{variant:"h6",style:{display:"inline"}},r.a.createElement(w.a,{style:{margin:"1vh"},href:"/register",variant:"outlined",color:"primary",size:"large"},"Register"),"OR",r.a.createElement(w.a,{style:{margin:"1vh"},href:"/login",variant:"outlined",color:"primary",size:"large"},"Login")),r.a.createElement(k.a,{variant:"h6"},"Else, you are welcome to just wander around our vacations.")),r.a.createElement(ie.a,{item:!0},r.a.createElement(Qe.a,{style:{width:"10vh",height:"10vh"}}))))),r.a.createElement(Ue,null))}function et(){var e=Object(re.c)((function(e){return e.user})),t=Object(re.c)((function(e){return e.vacations})),a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(re.b)();return Object(n.useEffect)((function(){Object(p.a)(m.a.mark((function t(){var a,n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:1000/likes/liked/".concat(e.id),{method:"GET",headers:{"content-type":"application/json",Authorization:localStorage.token}});case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=n.map((function(e){return Object(he.a)(Object(he.a)({},e),{},{isLiked:!0})})),s({type:"LOAD",payload:r}),i(!0);case 9:case"end":return t.stop()}}),t)})))()}),[t,e,s]),r.a.createElement(r.a.Fragment,null,e.isLogin&&o?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement(k.a,{variant:"h2",style:{marginTop:"12vh",marginBottom:"5vh",textAlign:"center"}},"My Wish List")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"}},t.map((function(e){return r.a.createElement(ze,{key:e.id,style:{margin:"10vw"},vacation:e,isLiked:!0})})))):null)}var tt=Object(Ve.a)({palette:{primary:{main:"#0f2566"},secondary:{main:"#33ab97"}}});var at=function(){var e=Object(re.c)((function(e){return e.user})),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement($e.a,{theme:tt},r.a.createElement(i.a,null,r.a.createElement(oe,{setSearchMode:o}),r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(s.a,{to:"/vacations"})),r.a.createElement(s.b,{path:"/vacations"},e.isLogin?r.a.createElement(Ue,{isSearchMode:c}):r.a.createElement(Xe,null)),r.a.createElement(s.b,{path:"/login",component:pe}),r.a.createElement(s.b,{path:"/register",component:de}),r.a.createElement(s.b,{path:"/profile"},e.isLogin?r.a.createElement(Je,null):r.a.createElement(s.a,{to:"/vacations"})),r.a.createElement(s.b,{path:"/wishlist",component:et}),r.a.createElement(s.b,{path:"/reports"},"admin"===e.role?r.a.createElement(ye,null):r.a.createElement(s.a,{to:"/vacations"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=a(51),rt={isLogin:!1},ct=Object(nt.c)(Object(nt.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var a={isLogin:!0,id:t.payload.id,first_name:t.payload.first_name,last_name:t.payload.last_name,username:t.payload.username,role:t.payload.role};return a;case"LOGOUT":return rt;default:return e}},vacations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD":var a=t.payload.map((function(e){return{id:e.id,destination:e.destination,image:e.image,start_date:e.start_date,end_date:e.end_date,description:e.description,price:e.price,followers:e.followers,isLiked:e.isLiked}}));return a;default:return e}}}));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re.a,{store:ct},r.a.createElement(at,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.4df21d66.chunk.js.map