{"version":3,"sources":["logo.png","world.png","components/Navigation.jsx","components/Login.jsx","components/Register.jsx","components/Reports.jsx","components/EditVacation.jsx","components/Vacation.jsx","components/AddVacation.jsx","components/Vacations.jsx","components/Profile.jsx","components/PublicHomePage.jsx","components/WishList.jsx","App.js","serviceWorker.js","reducers.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Navigation","setSearchMode","user","useSelector","state","classes","history","useHistory","useState","alertOpen","setAlertOpen","alertContent","setAlertContent","drawerOpen","setDrawerOpen","searchContent","setSearchContent","start_limit","setStart_limit","end_limit","setEnd_limit","dispatch","useDispatch","handleSearch","a","push","fetch","method","headers","localStorage","token","body","JSON","stringify","res","json","data","msg","type","payload","className","AppBar","style","marginBottom","Toolbar","IconButton","onClick","edge","Typography","variant","noWrap","isLogin","size","InputBase","onChange","e","moment","target","value","format","input","placeholder","first_name","Button","href","Alert","severity","Drawer","open","anchor","onClose","List","ListItem","button","ListItemIcon","ListItemText","primary","role","err","Login","username","setUsername","password","setPassword","error","setError","handleLogin","preventDefault","access_token","decode","id","last_name","Paper","margin","Grid","container","justify","xs","TextField","label","Divider","direction","Register","setFirst_name","setLast_name","handleRegister","console","log","Reports","vacations","setVacations","useEffect","filter","vac","followers","createChart","createVacsWithColors","backgroundColors","borderColors","map","index","i","length","borderColor","ctx","document","getElementById","Chart","labels","destination","datasets","borderWidth","options","scales","yAxes","ticks","beginAtZero","callback","scaleLabel","labelString","fontSize","xAxes","legend","tooltips","callbacks","tooltipItem","yLabel","marginTop","textAlign","item","EditVacation","modalOpen","setModalOpen","vacation","setDestination","image","setImage","start_date","setStart_date","end_date","setEnd_date","description","setDescription","price","setPrice","handleSubmit","handleCancel","Modal","top","left","transform","InputProps","startAdornment","InputAdornment","sm","fullWidth","defaultValue","InputLabelProps","shrink","multiline","rows","media","Vacation","isLiked","setIsLiked","setFollowers","startDateString","endDateString","deleteOpen","setDeleteOpen","editOpen","setEditOpen","deleteVacation","handleLike","userID","vacationID","handleUnlike","Card","CardMedia","CardContent","CardActions","right","gutterBottom","component","bottom","Avatar","AddVacation","add","Vacations","isSearchMode","addOpen","setAddOpen","isEffected","setIsEffected","likedVacations","loadVacations","newData","unlikedVacations","allVacations","flexWrap","key","Fab","aria-label","Profile","slice","PublicHomePage","src","logo","alt","world","WishList","createMuiTheme","main","secondary","App","searchMode","exact","path","to","Boolean","window","location","hostname","match","initialUser","store","createStore","combineReducers","action","newState","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.4df21d66.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c2982aa3.png\";","module.exports = __webpack_public_path__ + \"static/media/world.4ce37a35.png\";","import React, { useState } from 'react';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppBar, Toolbar, Button, IconButton, Typography, InputBase, Drawer, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport PlaceIcon from '@material-ui/icons/Place';\r\nimport FlightTakeoffIcon from '@material-ui/icons/FlightTakeoff';\r\nimport FlightLandIcon from '@material-ui/icons/FlightLand';\r\nimport FlightIcon from '@material-ui/icons/Flight';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport moment from 'moment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '17ch',\r\n            color: \"rgba(255, 255, 255, 0.5)\"\r\n        }, '&:focus': {\r\n            color: \"white\",\r\n        },\r\n    },\r\n}));\r\n\r\n\r\nexport default function Navigation({ setSearchMode }) {\r\n    const user = useSelector(state => state.user);\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [alertOpen, setAlertOpen] = useState(false);\r\n    const [alertContent, setAlertContent] = useState(\"\");\r\n    const [drawerOpen, setDrawerOpen] = useState(false);\r\n    const [searchContent, setSearchContent] = useState(null);\r\n    const [start_limit, setStart_limit] = useState(\"\");\r\n    const [end_limit, setEnd_limit] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const handleLogout = () => {\r\n        try {\r\n            dispatch({ type: \"LOGOUT\" });\r\n            history.push(\"/\");\r\n            setDrawerOpen(false);\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    const handleSearch = async () => {\r\n        if (searchContent || start_limit || end_limit) {\r\n            if (start_limit && end_limit) {\r\n                if (end_limit < start_limit) {\r\n                    setAlertOpen(true);\r\n                    setAlertContent(\"Land date limit is earlier than takeoff date limit. Please change and try again.\");\r\n                    return;\r\n                }\r\n            }\r\n            try {\r\n                setSearchMode(true);\r\n                history.push(\"/vacations\");\r\n                let res = await fetch(`http://localhost:1000/vacations/search`, {\r\n                    method: \"PUT\",\r\n                    headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token },\r\n                    body: JSON.stringify({ searchContent, start_limit, end_limit })\r\n                });\r\n                let data = await res.json();\r\n                if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                    dispatch({ type: \"LOGOUT\" });\r\n                    history.push(\"/login\");\r\n                } else {\r\n                    setAlertOpen(false);\r\n                    dispatch({ type: \"LOAD\", payload: data });\r\n                }\r\n            } catch (err) {\r\n\r\n            }\r\n        } else {\r\n            setAlertOpen(true);\r\n            setAlertContent(\"Please fill search fields and try again.\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"fixed\" style={{ marginBottom: \"5vh\" }}>\r\n                <Toolbar>\r\n                    <IconButton onClick={() => setDrawerOpen(true)} edge=\"start\" className={classes.menuButton} color=\"inherit\">\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                    <Typography className={classes.title} variant=\"h4\" noWrap>Fly Away</Typography>\r\n                    {user.isLogin ? (\r\n                        <>\r\n                            <div className={classes.search} title=\"Insert starting date limit\">\r\n                                <IconButton color=\"inherit\" size=\"small\" className={classes.searchIcon}>\r\n                                    <FlightTakeoffIcon />\r\n                                </IconButton>\r\n                                <InputBase type=\"date\"\r\n                                    onChange={e => setStart_limit(moment(e.target.value).format(\"yyyy-MM-DD\"))} classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInput,\r\n                                    }} />\r\n                            </div>\r\n                            <div className={classes.search} title=\"Insert ending date limit\">\r\n                                <IconButton color=\"inherit\" size=\"small\" className={classes.searchIcon}>\r\n                                    <FlightLandIcon />\r\n                                </IconButton>\r\n                                <InputBase type=\"date\"\r\n                                    onChange={e => setEnd_limit(moment(e.target.value).format(\"yyyy-MM-DD\"))} classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInput,\r\n                                    }} />\r\n                            </div>\r\n                            <div className={classes.search}>\r\n                                <div className={classes.searchIcon}>\r\n                                    <PlaceIcon />\r\n                                </div>\r\n                                <InputBase placeholder=\"Search\" title=\"Insert destination or part of description\"\r\n                                    onChange={e => setSearchContent(e.target.value)} classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInput,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <IconButton color=\"inherit\" title=\"Search\" onClick={handleSearch}>\r\n                                <SearchIcon />\r\n                            </IconButton>\r\n                            <IconButton color=\"inherit\" title=\"Clear search - Back to all vacations\" style={{ marginRight: \"2vw\" }}\r\n                                onClick={() => {\r\n                                    setAlertOpen(false);\r\n                                    setSearchMode(false);\r\n                                    history.push(\"/\");\r\n                                }}>\r\n                                <FlightIcon />\r\n                            </IconButton>\r\n                            <Typography variant=\"h6\" noWrap>Hello {user.first_name}</Typography>\r\n                            <IconButton color=\"inherit\" title=\"Go to my account\"\r\n                                onClick={() => { history.push(\"/profile\") }}>\r\n                                <AccountCircle />\r\n                            </IconButton>\r\n                        </>\r\n                    ) : (\r\n                            <>\r\n                                <Button color=\"inherit\" href=\"/login\">Login</Button>\r\n                                <Button color=\"inherit\" href=\"/register\">Register</Button>\r\n                            </>\r\n                        )}\r\n                </Toolbar>\r\n                {alertOpen ? (<Alert severity=\"error\">{alertContent}</Alert>) : null}\r\n            </AppBar>\r\n            <Drawer open={drawerOpen} anchor={\"left\"} onClose={() => setDrawerOpen(false)}>\r\n                <List>\r\n                    <ListItem button onClick={() => {\r\n                        setSearchMode(false);\r\n                        history.push(\"/\");\r\n                        setDrawerOpen(false);\r\n                    }}>\r\n                        <ListItemIcon>\r\n                            <HomeIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary=\"Home\"></ListItemText>\r\n                    </ListItem>\r\n                    {user.isLogin ? (<>\r\n                        {user.role === \"user\" ?\r\n                            (<ListItem button onClick={() => {\r\n                                history.push('/wishlist');\r\n                                setDrawerOpen(false);\r\n                            }}>\r\n                                <ListItemIcon>\r\n                                    <FavoriteIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary=\"Wish List\"></ListItemText>\r\n                            </ListItem>) : null}\r\n                        {user.role === \"admin\" ? (\r\n                            <ListItem button onClick={() => {\r\n                                history.push('/reports');\r\n                                setDrawerOpen(false);\r\n                            }}>\r\n                                <ListItemIcon>\r\n                                    <EqualizerIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary=\"Reports\"></ListItemText>\r\n                            </ListItem>) : null}\r\n                        <ListItem button onClick={() => {\r\n                            history.push('/profile');\r\n                            setDrawerOpen(false);\r\n                        }}>\r\n                            <ListItemIcon>\r\n                                <PersonIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Profile\"></ListItemText>\r\n                        </ListItem>\r\n                        <ListItem button onClick={handleLogout}>\r\n                            <ListItemIcon>\r\n                                <ExitToAppIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Logout\"></ListItemText>\r\n                        </ListItem>\r\n                    </>) : null\r\n                    }\r\n                    {!user.isLogin ? (<>\r\n                        <ListItem button onClick={() => {\r\n                            history.push('/register');\r\n                            setDrawerOpen(false);\r\n                        }}>\r\n                            <ListItemIcon>\r\n                                <AssignmentIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Register\"></ListItemText>\r\n                        </ListItem>\r\n                        <ListItem button onClick={() => {\r\n                            history.push('/login');\r\n                            setDrawerOpen(false);\r\n                        }}>\r\n                            <ListItemIcon>\r\n                                <LockOpenIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Login\"></ListItemText>\r\n                        </ListItem>\r\n                    </>) : null}\r\n                </List>\r\n            </Drawer>\r\n        </div>\r\n    );\r\n}","import { Button, Divider, Grid, Paper, TextField, Typography } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport decode from 'jwt-decode';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\nexport default function Login({ history }) {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const handleLogin = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            let res = await fetch(\"http://localhost:1000/users/login\", {\r\n                method: \"POST\",\r\n                headers: { \"content-type\": \"application/json\" },\r\n                body: JSON.stringify({ username, password })\r\n            })\r\n            let data = await res.json();\r\n            if (data.error) {\r\n                setError(data.msg);\r\n            } else {\r\n                localStorage.token = data.access_token;\r\n                let { id, first_name, last_name, username, role } = decode(data.access_token);\r\n                dispatch({ type: \"LOGIN\", payload: { id, first_name, last_name, username, role } });\r\n                history.push(\"/\");\r\n            }\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Paper style={{ width: \"40%\", margin: \"15vh auto\", padding: \"5vh\" }}>\r\n            <Grid container justify=\"space-evenly\" style={{ marginBottom: \"5vh\" }}>\r\n                <Grid container justify=\"center\" xs={6}>\r\n                    <TextField onChange={e => setUsername(e.target.value)} label=\"Username\" type=\"text\" />\r\n                </Grid>\r\n                <Grid container justify=\"center\" xs={6}>\r\n                    <TextField onChange={e => setPassword(e.target.value)} label=\"Password\" type=\"password\" />\r\n                </Grid>\r\n            </Grid>\r\n            {error ? (<Alert open={true} severity=\"error\">{error}</Alert>) : null}\r\n            <Divider />\r\n            <Grid container direction=\"column\" alignItems=\"center\">\r\n                <Button color=\"primary\" onClick={handleLogin}>Login</Button>\r\n                <Typography>\r\n                    Don't have an account? <Button color=\"default\" href=\"/register\">Register</Button>\r\n                </Typography>\r\n            </Grid>\r\n        </Paper >\r\n    )\r\n}\r\n","import { Button, Divider, Grid, Paper, TextField, Typography } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\nexport default function Register({ history }) {\r\n\r\n    const [first_name, setFirst_name] = useState(\"\");\r\n    const [last_name, setLast_name] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleRegister = async e => {\r\n        e.preventDefault();\r\n        try {\r\n            let res = await fetch(\"http://localhost:1000/users/register\", {\r\n                method: \"POST\",\r\n                headers: { \"content-type\": \"application/json\" },\r\n                body: JSON.stringify({ first_name, last_name, username, password })\r\n            })\r\n            let data = await res.json();\r\n            if (data.error) {\r\n                setError(data.msg);\r\n            } else {\r\n                history.push(\"/login\");\r\n            }\r\n        } catch (err) {\r\n            setError(err);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Paper style={{ width: \"40%\", margin: \"15vh auto\", padding: \"5vh\" }}>\r\n                <Grid container justify=\"space-evenly\" style={{ marginBottom: \"5vh\" }}>\r\n                    <Grid container justify=\"center\" xs={6}>\r\n                        <TextField label=\"First Name\" type=\"text\" onChange={e => setFirst_name(e.target.value)} />\r\n                    </Grid>\r\n                    <Grid container justify=\"center\" xs={6}>\r\n                        <TextField label=\"Last Name\" type=\"text\" onChange={e => setLast_name(e.target.value)} />\r\n                    </Grid>\r\n                    <Grid container justify=\"center\" xs={6}>\r\n                        <TextField onChange={e => setUsername(e.target.value)} label=\"Username\" type=\"text\" />\r\n                    </Grid>\r\n                    <Grid container justify=\"center\" xs={6}>\r\n                        <TextField onChange={e => setPassword(e.target.value)} label=\"Password\" type=\"password\" />\r\n                    </Grid>\r\n                </Grid>\r\n                {error ? (<Alert open={true} severity=\"error\">{error}</Alert>) : null}\r\n                <Divider />\r\n                <Grid container direction=\"column\" alignItems=\"center\">\r\n                    <Button color=\"primary\" onClick={handleRegister}>Register</Button>\r\n                    <Typography>\r\n                        Already signed up? <Button color=\"default\" href=\"/login\">Login</Button>\r\n                    </Typography>\r\n                </Grid>\r\n            </Paper >\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Chart from 'chart.js';\r\nimport { Grid, Paper, Typography } from '@material-ui/core';\r\n\r\nexport default function Reports() {\r\n    const [vacations, setVacations] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            let res = await fetch(\"http://localhost:1000/vacations\");\r\n            let data = await res.json();\r\n            setVacations(data.filter(vac => vac.followers > 0));\r\n        })();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        createChart();\r\n    }, [vacations])\r\n\r\n    const createVacsWithColors = () => {\r\n        let backgroundColors = [\r\n            'rgba(255, 99, 132, 0.2)',\r\n            'rgba(54, 162, 235, 0.2)',\r\n            'rgba(255, 206, 86, 0.2)',\r\n            'rgba(75, 192, 192, 0.2)',\r\n            'rgba(153, 102, 255, 0.2)',\r\n            'rgba(255, 159, 64, 0.2)'\r\n        ]\r\n        let borderColors = [\r\n            'rgba(255, 99, 132, 1)',\r\n            'rgba(54, 162, 235, 1)',\r\n            'rgba(255, 206, 86, 1)',\r\n            'rgba(75, 192, 192, 1)',\r\n            'rgba(153, 102, 255, 1)',\r\n            'rgba(255, 159, 64, 1)'\r\n        ]\r\n        let newVacations = vacations.map((vac, index) => {\r\n            let i = index % backgroundColors.length;\r\n            return { ...vac, backgroundColor: backgroundColors[i], borderColor: borderColors[i] };\r\n        })\r\n        return newVacations;\r\n    }\r\n\r\n    const createChart = () => {\r\n        const ctx = document.getElementById('likesChart');\r\n        let vacations = createVacsWithColors();\r\n        new Chart(ctx, {\r\n            type: 'bar',\r\n            data: {\r\n                labels: vacations.map(vac => (vac.destination)),\r\n                datasets: [{\r\n                    label: '# of followers',\r\n                    data: vacations.map(vac => (vac.followers)),\r\n                    backgroundColor: vacations.map(vac => (vac.backgroundColor)),\r\n                    borderColor: vacations.map(vac => (vac.borderColor)),\r\n                    borderWidth: 1\r\n                }]\r\n            },\r\n            options: {\r\n                scales: {\r\n                    yAxes: [{\r\n                        ticks: {\r\n                            beginAtZero: true,\r\n                            callback: function (value) { if (value % 1 === 0) { return value; } }\r\n                        },\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: 'Number of Followers',\r\n                            fontSize: 20\r\n                        }\r\n                    }],\r\n                    xAxes: [{\r\n                        display: true,\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: 'Destination',\r\n                            fontSize: 20\r\n                        }\r\n                    }]\r\n                },\r\n                legend: {\r\n                    display: false\r\n                },\r\n                tooltips: {\r\n                    callbacks: {\r\n                        label: function (tooltipItem) {\r\n                            return tooltipItem.yLabel;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Grid container justify=\"center\" style={{ marginTop: \"10vh\" }}>\r\n            <Grid xs={12}>\r\n                <Paper>\r\n                    <Typography variant=\"h2\" style={{ textAlign: \"center\", marginBottom: \"5vh\" }}>\r\n                        Followed Vacations Reports</Typography>\r\n                </Paper>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n                <canvas id=\"likesChart\"></canvas>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}","import { Button, Grid, InputAdornment, Modal, TextField, Typography } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport React, { useEffect, useState } from 'react';\r\nimport moment from 'moment';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function EditVacation({ modalOpen, setModalOpen, vacation }) {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [alertOpen, setAlertOpen] = useState(false);\r\n    const [alertContent, setAlertContent] = useState(\"\");\r\n    const [destination, setDestination] = useState(\"\");\r\n    const [image, setImage] = useState(\"\");\r\n    const [start_date, setStart_date] = useState(\"\");\r\n    const [end_date, setEnd_date] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setDestination(vacation.destination);\r\n        setImage(vacation.image);\r\n        setStart_date(vacation.start_date);\r\n        setEnd_date(vacation.end_date);\r\n        setDescription(vacation.description);\r\n        setPrice(vacation.price);\r\n    }, [vacation])\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if (destination && image && start_date && end_date && description && price) {\r\n            if (start_date < end_date) {\r\n                try {\r\n                    let res = await fetch(`http://localhost:1000/vacations/${vacation.id}`, {\r\n                        method: \"PUT\",\r\n                        headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token },\r\n                        body: JSON.stringify({ destination, image, start_date, end_date, description, price })\r\n                    })\r\n                    let data = await res.json();\r\n                    if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                        dispatch({ type: \"LOGOUT\" });\r\n                        history.push(\"/login\");\r\n                    } else {\r\n                        setModalOpen(false);\r\n                        setAlertOpen(false);\r\n                        dispatch({ type: \"LOAD\", payload: data });\r\n                    }\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            } else {\r\n                setAlertOpen(true);\r\n                setAlertContent(\"Land date is earlier than takeoff date. Please change and try again.\");\r\n            }\r\n        } else {\r\n            setAlertOpen(true);\r\n        }\r\n    }\r\n\r\n    const handleCancel = e => {\r\n        e.preventDefault();\r\n        setModalOpen(false);\r\n    }\r\n\r\n    return (\r\n        <Modal open={modalOpen} onClose={handleCancel}>\r\n            <div style={{\r\n                backgroundColor: \"white\",\r\n                width: \"30%\",\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -50%)\"\r\n            }}>\r\n                <Typography variant=\"h4\" style={{\r\n                    color: \"white\", backgroundColor: \"#0f2566\", padding: \"1vw\",\r\n                    textAlign: \"center\", marginBottom: \"3vh\"\r\n                }}>Edit {destination} <EditOutlinedIcon fontSize=\"large\" style={{ color: \"white\" }} /></Typography>\r\n                <Grid container justify=\"center\">\r\n                    <Grid container xs={12} justify=\"space-around\" style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField value={destination} onChange={e => setDestination(e.target.value)} label=\"Destination\" type=\"text\" />\r\n                        <TextField value={price} onChange={e => setPrice(e.target.value)} label=\"Price (in USD)\"\r\n                            InputProps={{ startAdornment: <InputAdornment position=\"start\">$</InputAdornment> }} type=\"number\" />\r\n                    </Grid>\r\n                    <Grid container xs={12} sm={10} style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField fullWidth value={image} onChange={e => setImage(e.target.value)} label=\"Image\" type=\"text\" />\r\n                    </Grid>\r\n                    <Grid container xs={12} justify=\"space-around\" style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField label=\"Takeoff Date\" type=\"date\" defaultValue={moment(start_date).format(\"yyyy-MM-DD\")}\r\n                            InputLabelProps={{ shrink: true }} onChange={e => setStart_date(e.target.value)} />\r\n                        <TextField label=\"Land Date\" type=\"date\" defaultValue={moment(end_date).format(\"yyyy-MM-DD\")}\r\n                            InputLabelProps={{ shrink: true }} onChange={e => setEnd_date(e.target.value)} />\r\n                    </Grid>\r\n                    <Grid container xs={9} >\r\n                        <TextField multiline fullWidth rows={5} variant=\"outlined\" value={description} style={{ margin: \"1vw\" }}\r\n                            onChange={e => setDescription(e.target.value)} label=\"Description\" type=\"text\" />\r\n                    </Grid>\r\n                    {alertOpen ? (<Grid xs={12}><Alert severity=\"error\">{alertContent}</Alert></Grid>) : null}\r\n                    <Grid container xs={12} justify=\"space-evenly\" style={{ margin: \"3vh\" }}>\r\n                        <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">Submit</Button>\r\n                        <Button onClick={handleCancel} variant=\"contained\">Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        </Modal >\r\n    )\r\n\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Card, CardActions, CardContent, CardMedia, Typography, IconButton, Avatar, Modal, Button, Grid } from '@material-ui/core';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport '../App.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport EditVacation from './EditVacation';\r\nimport moment from 'moment';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 345,\r\n    },\r\n    media: {\r\n        height: 140,\r\n    },\r\n});\r\n\r\nexport default function Vacation({ vacation }) {\r\n    const user = useSelector(state => state.user);\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const [isLiked, setIsLiked] = useState(vacation.isLiked);\r\n    const [followers, setFollowers] = useState(vacation.followers);\r\n    const { id, image, destination, start_date, end_date, description, price } = vacation;\r\n    const startDateString = moment(start_date).format('DD/MM/yyyy');\r\n    const endDateString = moment(end_date).format('DD/MM/yyyy');\r\n\r\n    const [deleteOpen, setDeleteOpen] = useState(false);\r\n    const [editOpen, setEditOpen] = useState(false);\r\n\r\n    const deleteVacation = async () => {\r\n        let res = await fetch(`http://localhost:1000/vacations/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: { \"Authorization\": localStorage.token }\r\n        });\r\n        let data = await res.json();\r\n        if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n            dispatch({ type: \"LOGOUT\" });\r\n            history.push(\"/login\");\r\n        } else {\r\n            dispatch({ type: \"LOAD\", payload: data });\r\n        }\r\n    }\r\n\r\n    const handleLike = async () => {\r\n        try {\r\n            let res = await fetch('http://localhost:1000/likes', {\r\n                method: \"POST\",\r\n                headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token },\r\n                body: JSON.stringify({ userID: user.id, vacationID: id })\r\n            })\r\n            let data = await res.json();\r\n            if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                dispatch({ type: \"LOGOUT\" });\r\n                history.push(\"/login\");\r\n            } else {\r\n                setIsLiked(true);\r\n                setFollowers(followers + 1);\r\n            }\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    const handleUnlike = async () => {\r\n        try {\r\n            let res = await fetch('http://localhost:1000/likes', {\r\n                method: \"DELETE\",\r\n                headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token },\r\n                body: JSON.stringify({ userID: user.id, vacationID: id })\r\n            })\r\n            let data = await res.json();\r\n            if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                dispatch({ type: \"LOGOUT\" });\r\n                history.push(\"/login\");\r\n            } else {\r\n                setIsLiked(false);\r\n                setFollowers(followers - 1);\r\n            }\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className={classes.root} style={{ position: \"relative\", marginBottom: \"2vw\" }}>\r\n            <CardMedia\r\n                className={classes.media}\r\n                image={image}\r\n                title={destination}\r\n            />\r\n            <CardContent>\r\n                {user.role === \"admin\" ? (\r\n                    <CardActions style={{ position: \"absolute\", right: \"0.5vw\", top: 140 }}>\r\n                        <IconButton onClick={() => setEditOpen(true)}>\r\n                            <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => setDeleteOpen(true)}>\r\n                            <DeleteIcon />\r\n                        </IconButton>\r\n                    </CardActions>\r\n                ) : null}\r\n                <Typography gutterBottom variant=\"h4\" component=\"h2\">\r\n                    {destination}\r\n                </Typography>\r\n                <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n                    {startDateString} - {endDateString}\r\n                </Typography>\r\n                <Typography gutterBottom variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {description}\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"p\">\r\n                    {price}$\r\n                    </Typography>\r\n                <Modal open={deleteOpen} onClose={() => setDeleteOpen(false)}>\r\n                    <div style={{ backgroundColor: \"white\", width: \"35%\", margin: \"15% auto\", padding: \"3vh\" }}>\r\n                        <Typography variant=\"h5\">Are you sure you want to delete the vacation in {destination}?</Typography>\r\n                        <Grid container justify=\"center\">\r\n                            <Button size=\"large\" onClick={deleteVacation}>Yes</Button>\r\n                            <Button size=\"large\" onClick={() => setDeleteOpen(false)}>No</Button>\r\n                        </Grid>\r\n                    </div>\r\n                </Modal>\r\n                {editOpen ? (\r\n                    <EditVacation setModalOpen={setEditOpen} modalOpen={editOpen} vacation={vacation}></EditVacation>\r\n                ) : null}\r\n            </CardContent>\r\n            <CardActions style={{ position: \"absolute\", right: \"0.5vw\", bottom: \"0\" }}>\r\n                {user.role === \"user\" ? (\r\n                    isLiked ? (\r\n                        <IconButton onClick={handleUnlike} ><FavoriteIcon style={{ color: \"red\" }} /></IconButton>\r\n                    ) : (\r\n                            <IconButton onClick={handleLike}><FavoriteBorderIcon /></IconButton>)\r\n                ) : null}\r\n                <Avatar style={{ backgroundColor: \"#0f2566\" }}>{followers}</Avatar>\r\n            </CardActions>\r\n        </Card >\r\n    );\r\n}","import { Button, Grid, InputAdornment, Modal, TextField, Typography } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport moment from 'moment';\r\nimport AddToPhotosOutlinedIcon from '@material-ui/icons/AddToPhotosOutlined';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function AddVacation({ modalOpen, setModalOpen }) {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [alertOpen, setAlertOpen] = useState(false);\r\n    const [alertContent, setAlertContent] = useState(\"\");\r\n    const [destination, setDestination] = useState(\"\");\r\n    const [image, setImage] = useState(\"\");\r\n    const [start_date, setStart_date] = useState(moment().format(\"yyyy-MM-DD\"));\r\n    const [end_date, setEnd_date] = useState(moment().add(1, 'days').format(\"yyyy-MM-DD\"));\r\n    const [description, setDescription] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if (destination && image && start_date && end_date && description && price) {\r\n            if (start_date < end_date) {\r\n                try {\r\n                    let res = await fetch(\"http://localhost:1000/vacations/add\", {\r\n                        method: \"POST\",\r\n                        headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token },\r\n                        body: JSON.stringify({ destination, image, start_date, end_date, description, price })\r\n                    })\r\n                    let data = await res.json();\r\n                    if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                        dispatch({ type: \"LOGOUT\" });\r\n                        history.push(\"/login\");\r\n                    } else {\r\n                        setAlertOpen(false);\r\n                        setModalOpen(false);\r\n                        dispatch({ type: \"LOAD\", payload: data })\r\n                    }\r\n                } catch (err) {\r\n\r\n                }\r\n            } else {\r\n                setAlertOpen(true);\r\n                setAlertContent(\"Land date is earlier than takeoff date. Please change and try again.\");\r\n            }\r\n        } else {\r\n            setAlertOpen(true);\r\n            setAlertContent(\"Please fill all fields.\");\r\n        }\r\n    }\r\n\r\n    const handleCancel = e => {\r\n        e.preventDefault();\r\n        setModalOpen(false);\r\n    }\r\n\r\n    return (\r\n        <Modal open={modalOpen} onClose={handleCancel}>\r\n            <div style={{\r\n                backgroundColor: \"white\",\r\n                width: \"30%\",\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n                transform: \"translate(-50%, -50%)\"\r\n            }}>\r\n                <Typography variant=\"h4\" style={{\r\n                    color: \"white\", backgroundColor: \"#0f2566\", padding: \"1vw\",\r\n                    textAlign: \"center\", marginBottom: \"3vh\"\r\n                }}>Add a Vacation <AddToPhotosOutlinedIcon fontSize=\"large\" style={{ color: \"white\" }} /></Typography>\r\n                <Grid container justify=\"center\">\r\n                    <Grid container xs={12} justify=\"space-around\" style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField onChange={e => setDestination(e.target.value)} label=\"Destination\" type=\"text\" />\r\n                        <TextField onChange={e => setPrice(e.target.value)} label=\"Price (in USD)\"\r\n                            InputProps={{ startAdornment: <InputAdornment position=\"start\">$</InputAdornment> }} type=\"number\" />\r\n                    </Grid>\r\n                    <Grid container xs={12} sm={10} style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField fullWidth onChange={e => setImage(e.target.value)} label=\"Image URL\" type=\"text\" />\r\n                    </Grid>\r\n                    <Grid container xs={12} justify=\"space-around\" style={{ marginBottom: \"5vh\" }}>\r\n                        <TextField label=\"Takeoff Date\" type=\"date\" defaultValue={start_date}\r\n                            InputLabelProps={{ shrink: true }} onChange={e => setStart_date(e.target.value)} />\r\n                        <TextField label=\"Land Date\" type=\"date\" defaultValue={end_date}\r\n                            InputLabelProps={{ shrink: true }} onChange={e => setEnd_date(e.target.value)} />\r\n                    </Grid>\r\n                    <Grid container xs={9}>\r\n                        <TextField fullWidth multiline rows={5} variant=\"outlined\" onChange={e => setDescription(e.target.value)}\r\n                            label=\"Description\" type=\"text\" />\r\n                    </Grid>\r\n                    <Grid item>\r\n                    </Grid>\r\n                    {alertOpen ? (<Grid xs={12}><Alert severity=\"error\">{alertContent}</Alert></Grid>) : null}\r\n                    <Grid container xs={12} justify=\"space-evenly\" style={{ margin: \"3vh\" }}>\r\n                        <Button onClick={handleSubmit} variant=\"contained\" color=\"primary\">Submit</Button>\r\n                        <Button onClick={handleCancel} variant=\"contained\">Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div >\r\n        </Modal >\r\n    )\r\n}\r\n","import { Fab, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Vacation from './Vacation';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport AddVacation from './AddVacation';\r\nimport { useHistory } from 'react-router-dom';\r\n// import OrderBy from './OrderBy';\r\n\r\nexport default function Vacations({ isSearchMode }) {\r\n    const user = useSelector(state => state.user);\r\n    const vacations = useSelector(state => state.vacations);\r\n    const [addOpen, setAddOpen] = useState(false);\r\n    // const [orderBy, setOrderBy] = useState(\"Default\");\r\n    const [isEffected, setIsEffected] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (!isSearchMode) {\r\n            if (user.role === \"user\") {\r\n                let likedVacations = [];\r\n                (async () => {\r\n                    let res = await fetch(`http://localhost:1000/likes/liked/${user.id}`, {\r\n                        method: \"GET\",\r\n                        headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token }\r\n                    });\r\n                    let data = await res.json();\r\n                    if (data.msg === \"Token expected\" || data.msg === \"Token invalid\") {\r\n                        dispatch({ type: \"LOGOUT\" });\r\n                        history.push(\"/login\");\r\n                    } else {\r\n                        likedVacations = data.map(vac => ({ ...vac, isLiked: true }));\r\n                        loadVacations();\r\n                    }\r\n                })();\r\n                const loadVacations = async () => {\r\n                    let res = await fetch(`http://localhost:1000/likes/rest/${user.id}`, {\r\n                        method: \"GET\",\r\n                        headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token }\r\n                    });\r\n                    let data = await res.json();\r\n                    let newData = data.map(vac => ({ ...vac, isLiked: false }));\r\n                    let unlikedVacations = newData;\r\n                    let allVacations = [...likedVacations, ...unlikedVacations];\r\n                    dispatch({ type: \"LOAD\", payload: allVacations });\r\n                    setIsEffected(true);\r\n                }\r\n            } else {\r\n                (async () => {\r\n                    let res = await fetch(\"http://localhost:1000/vacations\");\r\n                    let data = await res.json();\r\n                    dispatch({ type: \"LOAD\", payload: data });\r\n                    setIsEffected(true);\r\n                })();\r\n            }\r\n        }\r\n    }, [user, dispatch, history, isSearchMode]);\r\n\r\n    return (\r\n        <>\r\n            {isEffected ? (<div style={{ display: \"flex\", justifyContent: \"space-around\", marginTop: \"10vh\", flexWrap: \"wrap\" }}>\r\n                {vacations.length ? vacations.map((vac) => {\r\n                    return (<Vacation key={vac.id} style={{ margin: \"10vw\" }} vacation={vac} />)\r\n                }) : <Typography variant=\"h4\">No vacations to show..</Typography>}\r\n                {user.role === \"admin\" ? (<Fab color=\"secondary\" aria-label=\"add\" onClick={() => setAddOpen(true)}\r\n                    title=\"Add vacation\" style={{\r\n                        width: \"5vw\",\r\n                        height: \"5vw\",\r\n                        position: \"fixed\",\r\n                        right: \"3vw\",\r\n                        bottom: \"5vh\",\r\n                    }}>\r\n                    <AddIcon fontSize=\"large\" style={{ color: \"white\" }} />\r\n                </Fab>) : null}\r\n                <AddVacation modalOpen={addOpen} setModalOpen={setAddOpen} />\r\n                {/* <OrderBy /> */}\r\n            </div>) : null}\r\n        </>\r\n    )\r\n}","import { Avatar, Button, Card, CardActions, CardContent, Divider, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function Profile() {\r\n    const history = useHistory();\r\n    const user = useSelector(state => state.user);\r\n    const { first_name, last_name, username, role } = user;\r\n\r\n    return (\r\n        <Card style={{ margin: \"15vh auto\", width: \"30%\" }}>\r\n            <CardContent style={{ display: \"flex\", justifyContent: \"space-around\", alignItems: \"center\" }}>\r\n                <div>\r\n                    {role === \"user\" ? (<Typography variant=\"h5\" color=\"textSecondary\">My Account</Typography>) : null}\r\n                    <Typography variant=\"h3\">{username}</Typography>\r\n                    <Typography variant=\"h4\">{first_name} {last_name}</Typography>\r\n                    {role === \"admin\" ? (<Typography color=\"textSecondary\" variant=\"h5\">Website Admin</Typography>) : null}\r\n                </div>\r\n                <Avatar style={{ backgroundColor: \"#0f2566\" }}>{first_name.slice(0, 1)}{last_name.slice(0, 1)}</Avatar>\r\n            </CardContent>\r\n            <Divider />\r\n            <CardActions style={{ justifyContent: \"flex-end\" }}>\r\n                {role === \"user\" ? (<Button size=\"large\" color=\"primary\" onClick={() => { history.push(\"/wishlist\") }}>Wish List</Button>) : null}\r\n                {role === \"admin\" ? (<Button size=\"large\" color=\"primary\" onClick={() => { history.push(\"/reports\") }}>Reports</Button>) : null}\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}\r\n","import { Button, Grid, Paper, Typography } from '@material-ui/core';\r\nimport logo from '../logo.png'\r\nimport world from '../world.png'\r\nimport React from 'react';\r\nimport Vacations from './Vacations';\r\nimport KeyboardArrowDownRoundedIcon from '@material-ui/icons/KeyboardArrowDownRounded';\r\n\r\nexport default function PublicHomePage() {\r\n    return (\r\n        <>\r\n            <Paper style={{ marginTop: \"10vh\" }}>\r\n                <Grid container justify=\"center\">\r\n                    <Grid item xs={12}>\r\n                        <Typography style={{ textAlign: \"center\" }} color=\"textSecondary\"\r\n                            variant=\"h1\">Welcome to <span style={{ color: \"black\" }}>Fly Away</span><img src={logo} alt=\"Logo\"\r\n                                width=\"7%\"></img></Typography>\r\n                    </Grid>\r\n                    <Grid container xs={12} sm={11} alignItems=\"center\" justify=\"center\">\r\n                        <Grid item xs={5}>\r\n                            <img src={world} alt=\"World Travel\" width=\"100%\" />\r\n                        </Grid>\r\n                        <Grid item xs={7}>\r\n                            <Typography variant=\"h4\">What is Fly Away?</Typography>\r\n                            <Typography color=\"textSecondary\" variant=\"h5\">\r\n                                If you love traveling and visiting new places this is the perfect place for you.\r\n                                Fly Away gives you a chance to see some great vacations' deals before anyone else.\r\n                                You can also follow your favorite vacations and stay updated for changes.\r\n                            </Typography>\r\n                            <Typography variant=\"h4\" style={{ marginTop: \"5vh\" }}>Do you want to be part of our family?</Typography>\r\n                            <Typography color=\"textSecondary\" variant=\"h5\">\r\n                                By signing up you will be able to follow your favorite vacations and manage your own Wish List.\r\n                                Join us now! Every day new vacations are uploded.\r\n                            </Typography>\r\n                                <Typography variant=\"h6\" style={{ display: \"inline\" }}>\r\n                                    <Button style={{ margin: \"1vh\" }} href=\"/register\" variant=\"outlined\" color=\"primary\" size=\"large\">Register</Button>\r\n                                   OR\r\n                                   <Button style={{ margin: \"1vh\" }} href=\"/login\" variant=\"outlined\" color=\"primary\" size=\"large\">Login</Button>\r\n                                </Typography>\r\n                            <Typography variant=\"h6\">\r\n                                Else, you are welcome to just wander around our vacations.\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <KeyboardArrowDownRoundedIcon style={{ width: \"10vh\", height: \"10vh\" }} />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Paper>\r\n            <Vacations />\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Vacation from './Vacation';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Paper, Typography } from '@material-ui/core';\r\n\r\nexport default function WishList() {\r\n    const user = useSelector(state => state.user);\r\n    const vacations = useSelector(state => state.vacations);\r\n    const [isEffected, setIsEffected] = useState(false);\r\n    const dispatch = useDispatch();\r\n    \r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            let res = await fetch(`http://localhost:1000/likes/liked/${user.id}`, {\r\n                method: \"GET\",\r\n                headers: { \"content-type\": \"application/json\", \"Authorization\": localStorage.token }\r\n            });\r\n            let data = await res.json();\r\n            let newData = data.map(vac => ({ ...vac, isLiked: true }));\r\n            dispatch({ type: \"LOAD\", payload: newData });\r\n            setIsEffected(true);\r\n        })();\r\n    }, [vacations, user, dispatch])\r\n\r\n    return (\r\n        <>\r\n            {user.isLogin && isEffected ? (<>\r\n                <Paper>\r\n                    <Typography variant=\"h2\" style={{ marginTop: \"12vh\", marginBottom: \"5vh\", textAlign: \"center\" }}>\r\n                        My Wish List</Typography>\r\n                </Paper>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-around\", flexWrap: \"wrap\" }}>\r\n                    {vacations.map((vac) => {\r\n                        return <Vacation key={vac.id} style={{ margin: \"10vw\" }} vacation={vac} isLiked={true} />\r\n                    })}\r\n                </div></>) : null}\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\nimport { BrowserRouter as Router, Redirect, Route } from 'react-router-dom'\nimport Navigation from './components/Navigation';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Reports from './components/Reports';\nimport Vacations from './components/Vacations';\nimport Profile from './components/Profile';\nimport './App.css';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport PublicHomePage from './components/PublicHomePage';\nimport WishList from './components/WishList';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#0f2566'\n    },\n    secondary: {\n      main: \"#33ab97\"\n    }\n  }\n});\n\nfunction App() {\n  const user = useSelector(state => state.user);\n  const [searchMode, setSearchMode] = useState(false);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Router>\n        <Navigation setSearchMode={setSearchMode} />\n        <Route exact path=\"/\">\n          <Redirect to=\"/vacations\" />\n        </Route>\n        <Route path=\"/vacations\">\n          {user.isLogin ? (<Vacations isSearchMode={searchMode} />) : (<PublicHomePage />)}\n        </Route>\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/profile\">\n          {user.isLogin ? <Profile /> : <Redirect to=\"/vacations\" />}\n        </Route>\n        <Route path=\"/wishlist\" component={WishList} />\n        <Route path=\"/reports\">\n          {user.role === \"admin\" ? <Reports /> : <Redirect to=\"/vacations\" />}\n        </Route>\n      </Router>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","let initialUser = { isLogin: false };\r\n\r\nexport const vacations = (state = [], action) => {\r\n    switch (action.type) {\r\n        // {type:\"LOAD\", payload: {id, destination, image, start_date, end_date, description, price, followers}}\r\n        case \"LOAD\":\r\n            let newState = action.payload.map(vac => {\r\n                const { id, destination, image, start_date, end_date, description, price, followers, isLiked } = vac;\r\n                return ({\r\n                    id,\r\n                    destination,\r\n                    image,\r\n                    start_date,\r\n                    end_date,\r\n                    description,\r\n                    price,\r\n                    followers,\r\n                    isLiked\r\n                })\r\n            });\r\n            return newState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const user = (state = initialUser, action) => {\r\n    switch (action.type) {\r\n        // {type:\"LOGIN\", payload: {id, first_name, last_name, username, role}}\r\n        case \"LOGIN\":\r\n            let newState = {\r\n                isLogin: true,\r\n                id: action.payload.id,\r\n                first_name: action.payload.first_name,\r\n                last_name: action.payload.last_name,\r\n                username: action.payload.username,\r\n                role: action.payload.role\r\n            }\r\n            return newState;\r\n        // {type:\"LOGOUT\"}\r\n        case \"LOGOUT\":\r\n            return initialUser;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { combineReducers, createStore } from 'redux';\nimport { user, vacations } from './reducers';\nimport { Provider } from 'react-redux';\n\nlet store = createStore(combineReducers({\n  user, vacations\n}));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}